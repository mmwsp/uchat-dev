API Documentation

Authentication

`login`
Authenticate a user with a username and password.

Request
method: „login“

The request must include the following fields:
Field     | Type   | Description
method    | string | The method name (should be "login")
username  | string | The user's username
password  | string | The user's password

Response
The response will include the following fields:
Field     | Type   | Description


__________________________________________


`registration`
Register a new user with a username, name, and password.

Request
method: „registration“

The request must include the following fields:
Field     | Type   | Description
method    | string | The method name (should be "registration")
login     | string | The user's username
name      | string | The user's name
password  | string | The user's password

Response
The response will include the following fields:
Field     | Type   | Description
method    | string | The method name (should be "registration")
status    | string | The status of the request ("OK" or "FAIL")
message   | string | An error message (if status is "FAIL")

If the status is "FAIL", the message field will contain one of the following values:
- "invalid login" if the username is invalid
- "invalid password" if the password is invalid
- "server error" if there was an error processing the request

__________________________________________


Request
method: "join_chat"

The request must include the following fields:
Field      | Type   | Description
method     | string | The method name (should be "join_chat")
c_type     | number | chat type

If c_type == 1, then fields:
sender_id  | number | The unique identifier of the first user
user2_id   | number | The unique identifier of the second user

If c_type == 2, then fields:
chat_id    | number | The unique identifier of the chat session


Response

WHEN C_TYPE = 1(private chat), THEN UR RESPONSE WILL LOOK LIKE:
Field      | Type   | Description
method     | string | The method name (should be "join_chat")
c_type     | number | The type of chat (1 (private chat))
chat_id    | number | The unique identifier of the chat session
user1_id   | number | The unique identifier of the first user
user1_name | string | name user1
user1_bio  | string | bio user1
user1_img  | string | empty string (" ")
user1_online  | int | last date online
user2_id   | number | The unique identifier of the second user
user2_name | string | name user2
user2_bio  | string | bio user2
user2_img  | string | empty string (" ")
user2_online  | int | last date online
join_type  | number | The type of join.
cus_type   | number | would be 3.(users role, in private chat all have 3)



WHEN C_TYPE = 2(group chat), THEN UR RESPONSE WILL LOOK LIKE:
Field      | Type   | Description
method     | string | The method name (should be "join_chat")
c_type     | number | The type of chat (2 (group chat))
chat_id    | number | The unique identifier of the chat session
chat_name  | string | chat name
chat_desc  | string | chat description
chat_img   | string | empty string " "
join_type    | number | join type 
cus_type   | number | user role 
__________________________________________


`message`
Send a message in a chat session. (Only for type 1 - common message)

Request
method: "message"

The request must include the following fields:
Field         | Type   | Description
method        | string | The method name (should be "message")
message_type  | number | The type of message (should be 1 for now)
user_id       | number | The unique identifier of the user sending the message
chat_id       | number | The unique identifier of the chat session
message_text  | string | The text of the message
message_form  | number | The form of the message (always 1 for common message)

Response
The response will include the following fields:
Field         | Type   | Description
method        | string | The method name (should be "message")
message_type  | number | The type of message (should be 1 for now)
message_id    | number | The unique identifier of the message
user_id       | number | The unique identifier of the user sending the message
chat_id       | number | The unique identifier of the chat session
message_text  | string | The text of the message
message_form  | number | The form of the message (always 1 for common message)
message_date  |  int   | The date and time when the message was sent (in int format)
is_edited     | number | Indicates whether the message has been edited (always 0 for new messages)

__________________________________________

`chat_delete` 
Delete chat and all related data from db

Request
method: "chat_delete"

The request must include the following fields:
Field      | Type   | Description
method     | string | The method name (should be "chat_delete")
chat_id    | number | The unique identifier of the chat


Response
The response will include the following fields:
Field      | Type   | Description
method     | string | The method name (should be "chat_delete")
chat_id    | number | The unique identifier of the chat

__________________________________________

`edit_message`
Edit a message in a chat session.

Request
method:"edit_message"

The request must include the following fields:
Field         | Type   | Description
method        | string | The method name (should be "edit_message")
chat_id       | int    | The unique identifier of the chat
message_id    | int    | The unique identifier of the message
edited_text   | string | The new text for the message

Response
The response will include the following fields:
Field         | Type   | Description
method        | string | The method name (should be "edit_message")
chat_id       | int    | The unique identifier of the chat 
message_id    | int    | The unique identifier of the edited message
edited_text   | string | The new text for the message
is_edited     | int    | Indicates whether the message has been edited (will be 1 because already edited)

__________________________________________

`delete_message`
Delete a message from a chat session.

Request
method:"delete_message"

The request must include the following fields:
Field         | Type   | Description
method        | string | The method name (should be "delete_message")
chat_id       | int    | The unique identifier of the chat
message_id    | int    | The unique identifier of the message to delete

Response
The response will include the following fields:
Field         | Type   | Description
method        | string | The method name (should be "delete_message")
chat_id       | int    | The unique identifier of the chat
message_id    | int    | The unique identifier of the deleted message
__________________________________________

`change_chat`
Update the name and/or description of a chat session.

Request

The request must include the following fields:
Field         | Type   | Description
method        | string | The method name (should be "change_chat")
chat_id       | int    | The unique identifier of the chat session
name          | string | The new name for the chat session
description   | string | The new description for the chat session

Response
The response will include the following fields:
Field         | Type   | Description
method        | string | The method name (should be "change_chat")
chat_id       | int    | The unique identifier of the chat session
name          | string | The new name for the chat session
description   | string | The new description for the chat session

__________________________________________

`change_user`
Update the name and/or bio of a user.

Request

The request must include the following fields:
Field         | Type   | Description
method        | string | The method name (should be "change_user")
user_id       | int    | The unique identifier of the user
name          | string | The new name for the user 
bio           | string | The new bio for the user 

NO RESPONSE ON THAT METOD.
__________________________________________

`delete_user`
Delete a user from the application.

Request

The request must include the following fields:
Field         | Type   | Description
method        | string | The method name (should be "delete_user")
user_id       | int    | The unique identifier of the user to delete

NO RESPONSE ON THAT METHOD.

__________________________________________

`get_user_profile`
Retrieve user profile information.

Request

The request must include the following fields:
Field         | Type   | Description
method        | string | The method name (should be "get_user_profile")
user_id       | int    | id usera
Response
The response will include the following fields:
Field            | Type    | Description
method           | string  | The method name (should be "get_user_profile")
user_id          | int     | The unique identifier of the user
u_name           | string  | The display name of the user
u_bio            | string  | The user's bio or description
u_online_date    | int     | The timestamp (in seconds) when the user was last seen online
u_profile_image  | string  | empty string (" ")

__________________________________________

get_chat_messages
Retrieves all messages for a specific chat.

Request
{
  "method": "get_chat_messages",
  "chat_id": 123
}

RESPONSE
{
  "method": "get_chat_messages",
  "chat_id": 123,
  "status" : 1(if messages are present, 0 if no messages in chat),
  "messages": [
    {
      "message_id": 456,
      "user_id": 789,
      "chat_id": 123,
      "reply_to_id": null,
      "text": "Hello world!",
      "is_edited": 0,
      "date": 1652323200,
      "type": 1,
      "form": 1
    },
    {
      "message_id": 457,
      "user_id": 790,
      "chat_id": 123,
      "reply_to_id": 456,
      "text": "Hi there!",
      "is_edited": 0,
      "date": 1652323300,
      "type": 1,
      "form": 1
    }
  ]
}
__________________________________________
